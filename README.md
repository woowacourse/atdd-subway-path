
# ì§€í•˜ì²  ë…¸ì„ ë„ ë¯¸ì…˜

ìŠ¤í”„ë§ ê³¼ì • ì‹¤ìŠµì„ ìœ„í•œ ì§€í•˜ì²  ë…¸ì„ ë„ ì• í”Œë¦¬ì¼€ì´ì…˜

<br>

## ğŸš€ Getting Started

### Usage

#### application êµ¬ë™

```
./gradlew bootRun
```

<br>

## âœï¸ Code Review Process

[í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ë¡œ ì‚´í´ë³´ëŠ” ì˜¨ë¼ì¸ ì½”ë“œ ë¦¬ë·° ê³¼ì •](https://github.com/next-step/nextstep-docs/tree/master/codereview)

<br>

## ğŸ Bug Report

ë²„ê·¸ë¥¼ ë°œê²¬í•œë‹¤ë©´, [Issues](https://github.com/woowacourse/atdd-subway-subwayGraph/issues) ì— ë“±ë¡í•´ì£¼ì„¸ìš” :)

<br>

## ğŸ“ License

This project is [MIT](https://github.com/woowacourse/atdd-subway-subwayGraph/blob/master/LICENSE) licensed.

# ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### ì§€í•˜ì² ì—­

- [x] ì§€í•˜ì²  ì—­ì„ ë“±ë¡í•œë‹¤.
    - [x] [ì˜ˆì™¸] ê°™ì€ ì—­ì˜ ì´ë¦„ìœ¼ë¡œ ì¤‘ë³µë  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ì—­ ì´ë¦„ì€ 10ê¸€ìë¥¼ ë„˜ê¸¸ ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ì—­ ì´ë¦„ì€ 2ê¸€ì ì´ìƒì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ì—­ ì´ë¦„ì€ í•œê¸€ê³¼ ìˆ«ìì˜ ì¡°í•©ì´ì–´ì•¼ í•œë‹¤.
- [x] ì§€í•˜ì²  ì—­ì„ ì¡°íšŒí•œë‹¤.
- [x] ì§€í•˜ì²  ì—­ì„ ì‚­ì œí•œë‹¤.
    - [x] [ì˜ˆì™¸] ì‚­ì œí•  ì—­ì´ ìˆì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] í•´ë‹¹ ì—­ê³¼ ì—°ê²°ëœ êµ¬ê°„ì´ ìˆì„ ê²½ìš° ì‚­ì œí•  ìˆ˜ ì—†ë‹¤

### ì§€í•˜ì²  ë…¸ì„ 

- [x] ì§€í•˜ì²  ë…¸ì„ ì„ ë“±ë¡í•œë‹¤.
    - [x] [ì˜ˆì™¸] ê°™ì€ ë…¸ì„ ì˜ ì´ë¦„ìœ¼ë¡œ ì¤‘ë³µë  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ìƒ‰ê¹”ì€ ì¤‘ë³µ ë  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ 10ê¸€ìë¥¼ ë„˜ê¸¸ ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ 3ê¸€ì ì´ìƒì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ í•œê¸€ê³¼ ìˆ«ìì˜ ì¡°í•©ì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ì´ë¦„ê³¼ ìƒ‰ê¹”ì´ ìˆì–´ì•¼ í•œë‹¤.
    - [x] ì§€í•˜ì²  êµ¬ê°„ì„ ë“±ë¡í•œë‹¤
        - [x] [ì˜ˆì™¸] ìƒí–‰ ì§€ì , í•˜í–‰ ì§€ì , ê±°ë¦¬ê°€ ìˆì–´ì•¼ í•œë‹¤.
- [x] ì§€í•˜ì²  ë…¸ì„  ì¡°íšŒ
    - [x] [ì˜ˆì™¸] ì¡°íšŒí•  ë…¸ì„ ì´ ìˆì–´ì•¼ í•œë‹¤.
    - [x] ë…¸ì„ ì´ ê°€ì§„ êµ¬ê°„ë“¤ì„ ì •ë ¬í•´ì„œ ë°˜í™˜í•œë‹¤.
- [x] ì§€í•˜ì²  ë…¸ì„  ëª©ë¡ì„ ì¡°íšŒí•œë‹¤.
    - [x] ë…¸ì„ ë“¤ì´ ê°€ì§„ êµ¬ê°„ë“¤ì„ ì •ë ¬í•´ì„œ ë°˜í™˜í•œë‹¤.
- [x] ì§€í•˜ì²  ë…¸ì„  ìˆ˜ì •
    - [x] [ì˜ˆì™¸] ê°™ì€ ë…¸ì„ ì˜ ì´ë¦„ìœ¼ë¡œ ì¤‘ë³µë  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ìƒ‰ê¹”ì€ ì¤‘ë³µ ë  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ 10ê¸€ìë¥¼ ë„˜ê¸¸ ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ 3ê¸€ì ì´ìƒì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ë…¸ì„  ì´ë¦„ì€ í•œê¸€ì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ì´ë¦„ê³¼ ìƒ‰ê¹”ì´ ìˆì–´ì•¼ í•œë‹¤.
- [x] ì§€í•˜ì²  ë…¸ì„  ì‚­ì œ
    - [x] í•´ë‹¹ ë…¸ì„ ê³¼ ì—°ê²°ëœ êµ¬ê°„ë„ ì‚­ì œí•œë‹¤

### ì§€í•˜ì²  êµ¬ê°„

- [x] êµ¬ê°„ì„ ë“±ë¡í•œë‹¤.
    - [x] [ì˜ˆì™¸] ì¡´ì¬í•˜ëŠ” ë…¸ì„ ì´ì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ì¶”ê°€í•˜ë ¤ëŠ” êµ¬ê°„ì´ ìƒí–‰ì—­ì´ë‚˜ í•˜í–‰ì—­ì´ ìˆì–´ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ìƒí–‰ì—­ê³¼ í•˜í–‰ì—­ì´ ë‘˜ë‹¤ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.
    - [x] [ì˜ˆì™¸] ì¶”ê°€í•˜ë ¤ëŠ” ê±°ë¦¬ê°€ ê¸°ì¡´ êµ¬ê°„ì˜ ê±°ë¦¬ë³´ë‹¤ ì§§ì•„ì•¼ í•œë‹¤.
    - [x] [ì˜ˆì™¸] ê±°ë¦¬ëŠ” ìŒìˆ˜ì¼ ìˆ˜ ì—†ë‹¤.
- [x] êµ¬ê°„ì„ ì‚­ì œí•œë‹¤.
    - [x] [ì˜ˆì™¸] êµ¬ê°„ì´ í¬í•¨ëœ ì—­ì˜ êµ¬ê°„ì´ 2ê°œ ì´ìƒì´ì–´ì•¼ í•œë‹¤.
    - [x] ì‚­ì œí•˜ë ¤ëŠ” êµ¬ê°„ì´ ì¢…ì ì¼ ê²½ìš° ì´ì „ì—­ì´ ì¢…ì ì´ ëœë‹¤.
    - [x] ì¤‘ê°„ì—­ì´ ì‚­ì œë˜ëŠ” ê²½ìš° ì¬ë°°ì¹˜ëœë‹¤.

---

# ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ API

## 1ë‹¨ê³„ : ê²½ë¡œì¡°íšŒ ê¸°ëŠ¥

- [x] ê²½ë¡œë¥¼ ì¡°íšŒí•œë‹¤.
    - [x] jgrapht ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œë‹¤.
        - [x] ì (vertex)ê³¼ ê°„ì„ (edge), ê·¸ë¦¬ê³  ê°€ì¤‘ì¹˜ ê°œë…ì„ ì´ìš©
            - [x] ì •ì : ì§€í•˜ì² ì—­(Station)
            - [x] ê°„ì„ : ì§€í•˜ì² ì—­ ì—°ê²°ì •ë³´(Section)
            - [x] ê°€ì¤‘ì¹˜: ê±°ë¦¬
        - [x] ìµœë‹¨ ê±°ë¦¬ ê¸°ì¤€ ì¡°íšŒ ì‹œ ê°€ì¤‘ì¹˜ë¥¼ ê±°ë¦¬ë¡œ ì„¤ì •
    - [x] ìµœë‹¨ ê²½ë¡œ ë° ê±°ë¦¬ë¥¼ ë°˜í™˜í•œë‹¤.
    - [x] ê²½ë¡œê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì¦í•œë‹¤.

- [x] ìš”ê¸ˆì„ ê³„ì‚°í•œë‹¤.
    - [x] ê¸°ë³¸ìš´ì„(10ã ì´ë‚´): ê¸°ë³¸ìš´ì„ 1,250ì›
    - [x] ì´ìš© ê±°ë¦¬ ì´ˆê³¼ ì‹œ ì¶”ê°€ìš´ì„ ë¶€ê³¼
        - [x] 10km~50km: 5km ê¹Œì§€ ë§ˆë‹¤ 100ì› ì¶”ê°€
        - [x] 50km ì´ˆê³¼: 8km ê¹Œì§€ ë§ˆë‹¤ 100ì› ì¶”ê°€
        - [x] ì§€í•˜ì²  ìš´ì„ì€ ê±°ë¦¬ë¹„ë¡€ì œë¡œ ì±…ì •ëœë‹¤.

- 9km = 1250ì›
- 12km = 10km + 2km = 1350ì›
- 16km = 10km + 6km = 1450ì›
- 58km = 10km + 40km + 8km = 2150ì›

## 2ë‹¨ê³„ : ì¶”ê°€ëœ ìš”ê¸ˆ ì •ì±…

### DB í…Œì´ë¸” ë³€ê²½

- [x] LINE í…Œì´ë¸”ì— ì¶”ê°€ ìš”ê¸ˆ ì»¬ëŸ¼ ì¶”ê°€
- [x] LineRequestì— ì¶”ê°€ ìš”ê¸ˆ í•„ë“œ ì¶”ê°€
- [x] LineUpdateRequestì— ì¶”ê°€ ìš”ê¸ˆ í•„ë“œ ì¶”ê°€
- [x] LineResponseì— ì¶”ê°€ ìš”ê¸ˆ í•„ë“œ ì¶”ê°€
- [x] Lineì— ì¶”ê°€ ìš”ê¸ˆ í•„ë“œ ì¶”ê°€
- [x] LineEntityì— ì¶”ê°€ ìš”ê¸ˆ í•„ë“œ ì¶”ê°€

### ë…¸ì„ ë³„ ì¶”ê°€ìš”ê¸ˆ

- [x] ì¶”ê°€ ìš”ê¸ˆì´ ìˆëŠ” ë…¸ì„ ì„ ì´ìš© í•  ê²½ìš° ì¸¡ì •ëœ ìš”ê¸ˆì— ì¶”ê°€
    - ex) 900ì› ì¶”ê°€ ìš”ê¸ˆì´ ìˆëŠ” ë…¸ì„  8km ì´ìš© ì‹œ 1,250ì› -> 2,150ì›
    - ex) 900ì› ì¶”ê°€ ìš”ê¸ˆì´ ìˆëŠ” ë…¸ì„  12km ì´ìš© ì‹œ 1,350ì› -> 2,250ì›
- [x] ê²½ë¡œ ì¤‘ ì¶”ê°€ìš”ê¸ˆì´ ìˆëŠ” ë…¸ì„ ì„ í™˜ìŠ¹ í•˜ì—¬ ì´ìš© í•  ê²½ìš° ê°€ì¥ ë†’ì€ ê¸ˆì•¡ì˜ ì¶”ê°€ ìš”ê¸ˆë§Œ ì ìš©
    - ex) 0ì›, 500ì›, 900ì›ì˜ ì¶”ê°€ ìš”ê¸ˆì´ ìˆëŠ” ë…¸ì„ ë“¤ì„ ê²½ìœ í•˜ì—¬ 8km ì´ìš© ì‹œ 1,250ì› -> 2,150ì›

### ì—°ë ¹ë³„ ìš”ê¸ˆ í• ì¸

- [x] ì²­ì†Œë…„: ìš´ì„ì—ì„œ 350ì›ì„ ê³µì œí•œ ê¸ˆì•¡ì˜ 20% í• ì¸
    - ì²­ì†Œë…„: 13ì„¸ ì´ìƒ~19ì„¸ ë¯¸ë§Œ
- [x] ì–´ë¦°ì´: ìš´ì„ì—ì„œ 350ì›ì„ ê³µì œí•œ ê¸ˆì•¡ì˜ 50%í• ì¸
    - ì–´ë¦°ì´: 6ì„¸ ì´ìƒ~13ì„¸ ë¯¸ë§Œ
- [x] ì•„ê¸°: ê³µì§œ
    - ì•„ê¸°: 6ì„¸ ë¯¸ë§Œ

## TODO

### ëª©í‘œ

- [ ] service ë‹¨ì˜ for/ifë¬¸ -> dao ì•ˆì—ì„œ ìƒˆ ë©”ì†Œë“œ(...all) ìƒì„±, batch... ì‚¬ìš©í•´ í•œë²ˆì— ì²˜ë¦¬
- [ ] í…ŒìŠ¤íŠ¸ì½”ë“œ íŒ¨í‚¤ì§€ ìœ„ì¹˜ ë§ì¶”ê¸°
- [ ] repository ì¤‘ ë©”ì¸ repository ì„¤ì • -> sectionEntityë¥¼ ë°”ë¡œ sectionìœ¼ë¡œ ë³€ê²½
- [x] ìš”ê¸ˆ ì •ì±… ì¸í„°í˜ì´ìŠ¤, ì´í›„ ì •ì±… ë³„ë¡œ í´ë˜ìŠ¤ ë¶„ë¦¬
    - [x] miroë¡œ ë¯¸ë¦¬ ì„¤ê³„

### ì§ˆë¬¸ì‚¬í•­

### 1ë‹¨ê³„-1 í”¼ë“œë°±

- [x] í•œë²ˆë§Œ ì“°ì´ëŠ” private ë©”ì†Œë“œì˜ ê²½ìš° ì“°ì´ëŠ” ê³³ ë°‘ì— ë‘ê¸°
- [x] ì—”í‹°í‹°ì˜ idëŠ” ìƒˆë¡œ ìƒì„±ëœ ê²½ìš° nullë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ Long íƒ€ì…ì„ ì‚¬ìš© -> ë‹¤ë¥¸ í•„ë“œë„ Longìœ¼ë¡œ ë‚˜íƒ€ë‚¼ í•„ìš”ê°€ ìˆì„ê¹Œìš”?
    - ì´ë¯¸ ê°’ì´ ì—”í‹°í‹°ì— ë“¤ì–´ì˜¬ ë•Œ Longìœ¼ë¡œ ë“¤ì–´ì˜¤ê¸° ë•Œë¬¸ì— ê·¸ëŒ€ë¡œ ë’€ë‹¤. ì˜¤í† ë°•ì‹±/ì–¸ë°•ì‹± ê³¼ì •ì—ì„œ ì‹œê°„ì´ ì†Œìš”ë  ê²ƒ ê°™ì•˜ë‹¤.
    - í˜¹ì‹œ ê·¸ëŸ¼ì—ë„ ë°•ì‹±ëœ í´ë˜ìŠ¤ë¥¼ ì“°ì§€ ì•ŠëŠ” í¸ì´ ë‚«ë‹¤ë©´ ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?
- [x] ë¬´ì—‡ì„ validateí•˜ëŠ”ì§€ í˜¹ì€ ì–´ë–¤ ì¡°ê±´ì„ validateí•˜ëŠ”ì§€ ë©”ì„œë“œëª…ì— ë‚˜íƒ€ë‚´ë³´ë©´ ì–´ë–¨ê¹Œìš”?
- [x] UpdateëŠ” ë™ì‚¬ì¸ë°, updatedSectionsë¥¼ ì°¾ëŠ” ë©”ì„œë“œì¼ê¹Œìš”?
- [x] ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì…ì¥ì—ì„œëŠ” next íŒŒë¼ë¯¸í„°ê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”?
- [x] find ë¿ë§Œ ì•„ë‹ˆë¼ ì¸ìë¡œ ë°›ì€ resultì— addë„ í•˜ê³  ìˆë„¤ìš”. ì´ ë©”ì„œë“œì— ë” ì ì ˆí•œ ì´ë¦„ì´ ìˆì„ê¹Œìš”?
- [x] ë§¤ì§ ë„˜ë²„ëŠ” ìƒìˆ˜ë¡œ ë¶„ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œìš”?
- [x] DB ì—”í‹°í‹°ì™€ ë„ë©”ì¸ ê°ì²´ ì‚¬ì´ì˜ ë³€í™˜ì„ ì±…ì„ì§€ëŠ” ê³„ì¸µì„ ë³„ë„ë¡œ ë‘ì—ˆì„ ë•Œ ì–´ë–¤ ì¥ì ì´ ìˆì—ˆë‚˜ìš”?
- [x] idê°€ LineUpdateRequest ë‚´ì— í¬í•¨ë˜ë©´ ì–´ë–¨ê¹Œìš”?
- [x] 2ë‹¨ê³„ ìš”êµ¬ì‚¬í•­ì´ ë°˜ì˜ëœ ê±¸ê¹Œìš”?
- [x] ì˜ˆì™¸ ì‹œ log.error(); ì¶”ê°€

### 1ë‹¨ê³„-2 í”¼ë“œë°±

- [x] Dto setter ì œê±°
- [x] SectionEntityì˜ ê²½ìš° ìƒì„±ìì—ì„œ idë¥¼ ì œì™¸í•œ í•„ë“œëŠ” long íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë¼ ìˆëŠ” ê±¸ë¡œ ë´ì„œëŠ” nullì„ í—ˆìš©í•  í•„ìš”ëŠ” ì—†ì–´ë³´ì´ê¸°ë„ í•˜ë„¤ìš”.

### 2ë‹¨ê³„-1 í”¼ë“œë°±

- [x] AgeDiscountPolicy ì¸í„°í˜ì´ìŠ¤ ì œê±°
- [x] ìƒˆ ì—”í‹°í‹°ì˜ idë¥¼ null ëŒ€ì‹  0ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ëŠ”êµ°ìš”. id í•„ë“œëŠ” ë”ì´ìƒ Long íƒ€ì…ì¼ í•„ìš”ê°€ ì—†ì„ê¹Œìš”? -> ëª¨ë‘ longìœ¼ë¡œ ìˆ˜ì •!
- [ ] í˜¸ì¶œí•˜ê²Œë˜ë©´ sections.isStationIn(station)ì²˜ëŸ¼ í˜¸ì¶œí•˜ê²Œ ë  í…ë°, ì½”ë“œê°€ ë¶€ìì—°ìŠ¤ëŸ¬ì›Œë³´ì´ë„¤ìš”.
    - [ ] sections.contains(station)ì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©´ ì–´ë–¨ê¹Œìš”?
- [ ] getFareê°€ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œë˜ë©´ ê³„ì‚°ë„ ë§¤ë²ˆ ë°œìƒí• í…ë°ìš”. ë§¤ë²ˆ ê³„ì‚°í•  í•„ìš”ê°€ ìˆì„ê¹Œìš”?
    - [ ] baseFareëŠ” ê¸°ë³¸ìš”ê¸ˆì¼ê¹Œìš”?
- [ ] Generator -> ë§¤ì§ ë„˜ë²„ëŠ” ìƒìˆ˜ë¡œ ë¶„ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œìš”?
- [ ] UnderTenKMPolicy ì—ì„œë„ ê°™ì€ ìƒìˆ˜ê°€ ì„ ì–¸ë¼ ìˆëŠ”ë°, í•„ìš”í•œ ì¤‘ë³µì¼ê¹Œìš”?
- [ ] removeStationById -> StationService ëŒ€ì‹  ì´ê³³ì— ìœ„ì¹˜í•œ ì´ìœ ê°€ ìˆì„ê¹Œìš”?
- [ ] extraFare INT ì¹¼ëŸ¼ì— NOT NULL ì¶”ê°€
- [ ] PathService.java
    - [ ] -> ë§Œì•½ ì •ì±… ì¤‘ì— ì •í•´ì§„ ê¸ˆì•¡ì„ í• ì¸í•˜ëŠ” ëŒ€ì‹  ì •í•´ì§„ ë¹„ìœ¨(e.g., 20%)ë¡œ í• ì¸í•˜ëŠ” ì •ì±…ì´ ì¶”ê°€ëœë‹¤ë©´ ì´ê³³ì´ ë³€ê²½ë ê¹Œìš”?
