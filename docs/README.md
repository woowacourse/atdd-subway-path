## 페어 규칙

- 방역수칙 준수
- 식사시간 미루지 않기
- 중간중간에 의식적으로 쉬는시간 갖기 (2시간 넘기지 말기)
- 토론이 과열되면 잠깐 멈추고 제 3의 대안 생각해보기
- 기록 잘 해두기
    - 토론한 과정, 해결하지 못한 이슈, 순간적인 궁금증이나 아이디어 등
- 아무쪼록 손절만 하지 말기
    - 다음주 회식날 웃으면서 만나기~^.^

## 목표

### 공통

- TDD (E2E) 테스트를 작성하는 방법과 이 테스트를 통해 마음의 안정을 갖고 싶다.
- 요구사항을 추가한 후에도 DB와 관계없이 잘 돌아가는 도메인이었으면 좋겠다
    - 계층을 분리하자! (비즈니스 로직과 dao의 의존성을 분리하자)
- 도메인 로직을 객체지향을 놓지 않고 구현해보고 싶다. (클린 코드)
    - 웹을 떠나서 레벨 1에서 배운거를 잊지않기
- 과설계 X (요구사항 내에서 구현)

### 토닉

- jdbcTemplate, SimpleJdbcInsert? 등등 DB를 연결하는 커넥션을 다루는 객체들의 특징들을 알아가고 싶다.
- JsonPath 다루는 방법

### 포키

- 만들어둔 RestAssured Test fixture 구조를 유지하고 (필요하다면) 개선, 확장해보고 싶음
- (optional)Repository 계층을 적용까진 못해도 알아가보고는 싶다
    - 지금은 도메인에서 DB 접근을 위한 정보들을 가지고 있는데, 이 것이 분리될 수는 없을까 하는 고민이 있음
- (optional)지금은 예외처리가 다소 포괄적으로 느껴지는데, custom exception을 구현해서 예외 context를 세분화 해보고싶음

### 야호

- custom exception 써보기!
- 해당 로직이 해당 계층에 어울리는지 한번 더 고민해보기

---

### 기능 목록

노선 등록 (**POST** /lines -> 201 Created)

- [ ] 추가 요금을 입력받아 함께 등록한다
    - [ ] [예외]음수이면 예외가 발생한다
    - [ ] [예외]10원 단위가 아니면 예외가 발생한다

노선 목록 (**GET** /lines -> 200 OK)

- [ ] 추가 요금을 함께 조회한다

노선 조회 (**GET** /lines/{id} -> 200 OK)

- [ ] 추가 요금을 함께 조회한다

노선 조회 (**PUT** /lines/{id} -> 200 OK)

- [ ] 추가 요금도 수정할 수 있다
    - [ ] [예외]음수이면 예외가 발생한다
    - [ ] [예외]10원 단위가 아니면 예외가 발생한다

경로 조회 (**GET** /paths?source={id}&target={id}&age={age} → 200 OK)

- [X] 최단 경로를 조회한다
    - [X] 모든 노선의 구간에 대해 조회한다
    - [ ] [예외]출발역과 도착역중 하나라도 입력되지 않으면 예외가 발생한다
    - [ ] [예외]출발역과 도착역이 같으면 예외가 발생한다
    - [X] [예외]존재하지 않는 역 id가 입력되면 예외가 발생한다
    - [ ] [예외]나이가 음수이면 예외가 발생한다
- [X] 구한 최단 경로의 총 거리를 구한다
- [X] 구한 최단 경로의 요금을 구한다
    - [ ] 추가 요금이 있는 노선을 이용하면 거리별 요금에 추가 요금을 합산한다
    - [ ] 추가 요금이 있는 노선을 2개 이상 이용하는 경우 가장 높은 추가 요금만 적용한다
    - [ ] 나이가 13세 이상 19세 미만이면 운임에서 350원을 공제한 금액의 20%가 할인된다
    - [ ] 나이가 6세 이상 13세 미만이면 운임에서 350원을 공제한 금액의 50%가 할인된다

### 도메인 설계

- PathCalculator
    - 경로 조회
    - 거리
- FareCalculator
    - 요금 계산
